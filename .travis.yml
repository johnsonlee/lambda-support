language: groovy
jdk:
- openjdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_install:
- if [ "$encrypted_ea692fbd4174_key" != "" ] && [ "$encrypted_ea692fbd4174_iv" != "" ]; then openssl aes-256-cbc -K $encrypted_ea692fbd4174_key -iv $encrypted_ea692fbd4174_iv -in .travis/secring.gpg.enc -out .travis/secring.gpg -d; fi
install:
- "./gradlew assemble -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
before_script:
- chmod +x gradlew
script:
- "./gradlew check -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
deploy:
  skip_cleanup: true
  provider: script
  script: bash .travis/deploy.sh
  on:
    tags: true
after_deploy:
- "./gradlew closeAndReleaseRepository -POSSRH_USERNAME=${OSSRH_USERNAME} -POSSRH_PASSWORD=${OSSRH_PASSWORD}"
- shred -u .travis/secring.gpg
env:
  global:
  - secure: ZAqrlPWzw9SQo1dJbvSI2PUVKh1qndxrZhr6IxsOWLF6dJSG0qK6DuyuWcY9efHD/7fr8fGILSKtFDO5C9Ir6zCEcyQ1m8BHp2iKQZTwvTj0nTfoXoG1LX/JrnGSNYJA8/0K3BxhN0rW7Ge3QR+xnfOnDUc7kaua3rSjbniheYuPLmZV9Q1O9H16Q4U0HewSTMdyewiAAfikd8/oPTqOz4LNtcKDvkqUWuAzotVsHBsGmmwkByKPGdFIVffvvIjwzkt3wqz4gogN9TIbZPsVphIu9ITSRHAwFtfxCvNwl3RpgMo4NS5lZnvULOJppGuerbdkNI2PfenxRdZKUlRy2P4ULVyzMdHNQr1McWXcN5N1r90Jvbrw8GdAaaTV0HwdEY6HIsrL0l9Uz/bfEXMR/UPUiRffuZxrQdn6usZmkCIsu9qUylRxkIlfdT2LQ40ENOPOjL4jXD6BGAnDp/vjVguHWISwuaYTqQgFa4PExJFSWpUJ/HJv8zlH85+Pjmf9xMAcXnoNjWVEF0GLThlZOnoWDzNBdFfzSA9c2efkMIlFM4CV/yXhWyCaWU1rQY60qS0Y9aoakIc9TADMWVMxf9Khcxl2Xt4zJZptnv0OwChSjFPCVW/h1s6olw+C7DzBXrm23A4jXfQyaE1dCMsI6NW/9pBinMMv4yirqALphh0=
  - secure: DVhQlVMKRQ7j0y1oV1W06jwyDBS4H3Nbvxn07sLjqzAf4qqZH0aPAN6mI5C39X4bH1/BOoybr9/angw8QvfZEW4z5ZMS39esoF8SPhHZLK30snf4qz0y6R2eEpHvf+2qlV4MbgZD+/G5E51iyksKmnHcL+YimrNEPlozmYkCHlZn2R6jMZQShIK8h0flt9N5/l11jofHnjwqqNXnzo9Gn/gif76rI8XbpqVBe9Hth15G3fm8UcbN+kWJvYXlziHX8AHftc+K2URbmCtvOv44SjqErpUBNMje3HTfjjeCNf0dzLfRWaZ4EEjNAHmgXTkp+fHxKYhgEFHpXzqS+DQ4R7XFQOKKzWAAIEWKYoZeiJTYa7oybCFubF4bDQCCGrtALLKjt1O9UWZMlb0ENxOhSj5ZkY3CXn4MMwv8BvvkndjyPIcPRIRx+1hG9hwYSvNQwgRJunNc3fhh7J359I3Ct+/PyLdKeYa/NasaXC2yAFNIi/WD/dnshoJfWjGWfeyrR1hITkZX4nBtV6VvjYn1Mjr892xDhoC2w7cW04jcZrNGefxtRQ/h4j6A9lbajIjRKapQ4bmTPqvi+zz+/5gtL9ESQ9w20CuoPnvJtBwyk2mO3v0xUp5mpf2/3t7qnZSlPMEhSYvpB6PB485e/tjNDzVDOmHdbIfYyZvA+Kp467o=
  - secure: VRapDtLcHz8ri5pONfeLBgxoFoDdA5FEEeDVgrmJHlgOOIEC90CDwVwxjutl5JWl4PsvRzqwOl0rSBCN8JcA0USRhiBZVwnb9+NctCAg1EclPo/icl/XmRpLMS7qugOihF50MggckidXMfrSLGV4obG6LJeRfTMJue3R5O30toOxq8NsSNM0N1LPbvrbOTcKijvTN85Qi/P8Z4vA31Iy7sgBHRAwMA5ADKt9COZ7aDDoplZvbPGdg9UlDWt7F71Bao/QMFlMRvJcELZac+DWzl7mYHge7DMnFdhIwJTuAuHvZPo9IrjsjjS24ca6/m/HtbHI17K9KSPc+LCbQL7PdM+RyODTaXb7PRd9VSA4wf7c8Lb+V75xLUFCXRhwyS2Ad7qT6hazQyAh1AjS+I6gv44+PROXYv3tkOZR9V3qXm+CyXGneOUNcnwHcl1iKfsqcOXmcCSt8QuxowI+8G0fRWJEFIHMOdIku/ge75VtsTZfQVeWtAliy8qeo8Q84Ln3pKzI6wNfRMb5FKHg8f6ZkJiC+nBjZZVYskfZL+CAsNzKW/1xccrZfBDZxwYJgDeN0+yZ1gHysP+MzKwcwmEas/xxLG6AohbCMU2m/9Y76a8322FTpOZXxGDX6GhIcmzqLgiycS+8X2IudM7p02JlgRxBvxpRYaWE5yMbDs8KhLs=
  - secure: YazKxtERySgQlg0v7ThPiqDl3NWPeNcPTLuXqQN9bylNXj6Q1M5OioGkGrspnsyo9krZAmcUUvWB+cZcwH63RlVXStxATm5cfFc2Wxy1SQXZ70/FRYZdmwEHxhXMvPDkyNylKjRRKlBQ9OgrSyzmwdD7WM6YFTcaYpoF4erImA9Jzs5F1SDKJsBVqw2KBsif+D09LU4jTofwCknT6HhTxtj5T1D+owwauqsupcFrcCvaWtWWAJLmE2yh/1a+FRTOqvJ1hLJ7RwGpBKfGCnL+u2rVP37e8uOOmlanQ7/3Sj5gX/ng43OdVHAgzfVwS7lI5ExSEf4bEZiqX3CC6XjYGgaS0JECOrn+5QOMKMagRIwNqQNSeVtfUxdYIHP2HhzxisMyuM2Clikg5/HwpeHr2kzxIHyglnnFt0EMAtNkPqlpdNqLn/OUv6BnYioOU8mXWIaOqcL7yUA//vQL0UaZn6grEHCEqXth+qijQgDhgCLLBbaNYHepsxjSYab1x2CTVjX9DEoFDwE5QsNoqwrQBumtLnllsvq7PUDLUU0eBxMnSzMy4C2NAawa8w2aNljs8fjR4jZTAFReYjtJ2m1jFDous5uGm+4IVjow1BZoXmAtr5ioqwG0F7lWYxW1+8WdSSIhIlzC/AnJfkoazAw5wFIzl5QuR+0bzlpXi/0KYEw=
